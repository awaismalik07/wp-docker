FROM ubuntu:22.04

ENV DEBIAN_FRONTEND=noninteractive

# Install Apache, PHP, MySQL client
RUN apt-get update -y && apt-get upgrade -y && \
    apt-get install -y apache2 ghostscript libapache2-mod-php mysql-client \
       php php-bcmath php-curl php-imagick php-intl php-json php-mbstring \
       php-mysql php-xml php-zip unzip curl wget && \
    rm -rf /var/lib/apt/lists/*

# Copy startup script
COPY script.sh /usr/local/bin/script.sh
RUN chmod +x /usr/local/bin/script.sh

EXPOSE 80

CMD ["/usr/local/bin/script.sh"]
